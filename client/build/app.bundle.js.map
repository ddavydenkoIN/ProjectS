{"version":3,"sources":["webpack:///app.bundle.js","webpack:///./client/app/app.js","webpack:///./client/app/components/index.js","webpack:///./client/app/components/about/aboutController.js","webpack:///./client/app/components/home/homeController.js","webpack:///./client/app/components/author/authorController.js","webpack:///./client/app/shared/index.js","webpack:///./client/app/shared/directives/headerDirective.js","webpack:///./client/app/shared/services/mapService.js","webpack:///./client/app/components/about/todosList.js"],"names":["webpackJsonp","module","exports","__webpack_require__","appModule","angular","config","$stateProvider","$urlRouterProvider","otherwise","state","templateUrl","controller","url","aboutController","homeController","authorController","toDosList","value","name","AboutController","$scope","TodosList","listOfTodos","list","$inject","HomeController","mapService","categories","label","type","DUKS_LOCATION","veryScaryText","coordinatesArray","map","initMap","DG","then","myLocation","$root","undefined","center","zoom","setMyLocation","markersGroup","featureGroup","marker","addTo","bindPopup","setCreateMarkerOnPin","on","ev","latlng","push","drawMarkersOnMap","data","clearLayers","forEach","coordinates","fitBounds","getBounds","showAllMarkers","getAllMarkers","response","markersHadBeenHidden","saveMarkers","locate","setView","watch","e","latitude","longitude","openPopup","bindLabel","popup","setLatLng","getCenter","setContent","openOn","$watch","newCategory","oldCategory","getMarkersByCategory","resp","hideMarkers","AuthorController","AppHeaderDirective","MapService","directive","service","appHeaderDirective","restrict","replace","$http","markers","method","category","params","jist","description","completed","subitems"],"mappings":"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","file":"app.bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(2);\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(9);\n\t\n\tvar appModule = angular.module('App', ['App.components', 'App.shared', 'ui.router']);\n\t\n\tappModule.config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\n\t\n\t    $urlRouterProvider.otherwise('/home');\n\t\n\t    $stateProvider.state('home', {\n\t        templateUrl: 'client/app/components/home/home.html',\n\t        controller: 'HomeController',\n\t        url: '/home'\n\t    }).state('about', {\n\t        templateUrl: 'client/app/components/about/about.html',\n\t        controller: 'AboutController',\n\t        url: '/about'\n\t    }).state('author', {\n\t        templateUrl: 'client/app/components/author/author.html',\n\t        controller: 'AuthorController',\n\t        url: '/author'\n\t    });\n\t}]);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar aboutController = __webpack_require__(3);\n\tvar homeController = __webpack_require__(4);\n\tvar authorController = __webpack_require__(5);\n\tvar toDosList = __webpack_require__(14);\n\t\n\tangular.module('App.components', []).value('TodosList', toDosList).controller('HomeController', homeController).controller('AboutController', aboutController).controller('AuthorController', authorController).name;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tAboutController.$inject = ['$scope', 'TodosList'];\n\t\n\tfunction AboutController($scope, TodosList) {\n\t\t$scope.listOfTodos = TodosList.list;\n\t}\n\tmodule.exports = AboutController;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tHomeController.$inject = ['$scope', 'mapService'];\n\t\n\tfunction HomeController($scope, mapService) {\n\t    $scope.categories = [{ label: \"Schools\", type: \"school\" }, { label: \"Gas Stations\", type: \"gas-station\" }, { label: \"Restaurants\", type: \"restaurant\" }, { label: \"Pharmacies\", type: \"pharmacy\" }];\n\t    var DUKS_LOCATION = [46.48810, 30.74104];\n\t    var veryScaryText = 'CIA is on the move.';\n\t    $scope.coordinatesArray = [];\n\t    $scope.map;\n\t\n\t    $scope.initMap = function () {\n\t        DG.then(function () {\n\t            var myLocation = $scope.$root.myLocation ? $scope.$root.myLocation : DUKS_LOCATION;\n\t            $scope.map = undefined;\n\t            $scope.map = DG.map('map', {\n\t                center: myLocation,\n\t                zoom: 13\n\t            });\n\t            $scope.setMyLocation();\n\t\n\t            $scope.markersGroup = DG.featureGroup();\n\t\n\t            DG.marker(myLocation).addTo($scope.map).bindPopup('Place to appear on most photos.');\n\t\n\t            $scope.setCreateMarkerOnPin();\n\t        });\n\t    };\n\t\n\t    $scope.setCreateMarkerOnPin = function () {\n\t        $scope.map.on('click', function (ev) {\n\t            DG.marker(ev.latlng).addTo($scope.markersGroup).addTo($scope.map);\n\t            $scope.coordinatesArray.push(ev.latlng);\n\t        });\n\t    };\n\t\n\t    $scope.drawMarkersOnMap = function (data) {\n\t        if ($scope.markersGroup) {\n\t            $scope.markersGroup.clearLayers();\n\t            data.forEach(function (coordinates) {\n\t                DG.marker(coordinates).addTo($scope.markersGroup);\n\t            });\n\t            $scope.markersGroup.addTo($scope.map);\n\t            $scope.map.fitBounds($scope.markersGroup.getBounds());\n\t        }\n\t    };\n\t\n\t    $scope.showAllMarkers = function () {\n\t        mapService.getAllMarkers().then(function (response) {\n\t            $scope.drawMarkersOnMap(response.data);\n\t        });\n\t        $scope.markersHadBeenHidden = false;\n\t    };\n\t\n\t    $scope.saveMarkers = function () {\n\t        mapService.saveMarkers($scope.coordinatesArray);\n\t    };\n\t\n\t    $scope.setMyLocation = function () {\n\t        $scope.map.locate({ setView: true, watch: true }).on('locationfound', function (e) {\n\t            $scope.map.center = [e.latitude, e.longitude];\n\t            $scope.$root.myLocation = [e.latitude, e.longitude];\n\t            DG.marker([e.latitude, e.longitude]).addTo($scope.map).bindPopup('You are here. ' + veryScaryText).openPopup().bindLabel(veryScaryText);\n\t        }).on('locationerror', function (e) {\n\t            DG.popup().setLatLng($scope.map.getCenter()).setContent('Доступ к определению местоположения отключён').openOn($scope.map);\n\t        });\n\t    };\n\t\n\t    $scope.$watch('selectedCategory', function (newCategory, oldCategory) {\n\t        if (newCategory != undefined) {\n\t            mapService.getMarkersByCategory(newCategory).then(function (resp) {\n\t                $scope.drawMarkersOnMap(resp.data);\n\t            });\n\t        }\n\t    });\n\t\n\t    $scope.hideMarkers = function () {\n\t        $scope.markersGroup.clearLayers();\n\t        $scope.markersHadBeenHidden = true;\n\t    };\n\t}\n\t\n\tmodule.exports = HomeController;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tAuthorController.$inject = ['$scope'];\n\t\n\tfunction AuthorController($scope) {}\n\tmodule.exports = AuthorController;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t'use strict';\n\t\n\tvar AppHeaderDirective = __webpack_require__(7);\n\tvar MapService = __webpack_require__(8);\n\t\n\tangular.module('App.shared', []).directive('appHeader', AppHeaderDirective).service('mapService', MapService).name;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction appHeaderDirective() {\n\t    return {\n\t        restrict: 'E',\n\t        templateUrl: 'client/app/shared/templates/headerTemplate.html',\n\t        replace: true\n\t    };\n\t}\n\t\n\tmodule.exports = appHeaderDirective;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tMapService.$inject = ['$http'];\n\tfunction MapService($http) {\n\t    function saveMarkers(markers) {\n\t        var config = {\n\t            method: \"POST\",\n\t            url: \"map/saveMarkers\",\n\t            data: markers\n\t        };\n\t        return $http(config);\n\t    }\n\t\n\t    function getAllMarkers(markers) {\n\t        var config = {\n\t            method: \"GET\",\n\t            url: \"map/getMarkers\"\n\t        };\n\t        return $http(config);\n\t    }\n\t\n\t    function getMarkersByCategory(category) {\n\t        var config = {\n\t            method: \"GET\",\n\t            url: \"map/getByCategory\",\n\t            params: {\n\t                type: category\n\t            }\n\t        };\n\t        return $http(config);\n\t    }\n\t    return {\n\t        saveMarkers: saveMarkers,\n\t        getAllMarkers: getAllMarkers,\n\t        getMarkersByCategory: getMarkersByCategory\n\t    };\n\t}\n\t\n\tmodule.exports = MapService;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar TodosList = {\n\t\tlist: [{\n\t\t\tjist: \"git\",\n\t\t\tdescription: \"Create a git repository on github.com\",\n\t\t\tcompleted: true\n\t\t}, {\n\t\t\tjist: \"version\",\n\t\t\tdescription: \"Use AngularJS 1st version\",\n\t\t\tcompleted: true\n\t\t}, {\n\t\t\tjist: \"webpack\",\n\t\t\tdescription: \"Configure webpack.config.js\",\n\t\t\tcompleted: true,\n\t\t\tsubitems: [{\n\t\t\t\tdescription: 'Babel + es6',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'Less to css compilation. USED scss instead.',\n\t\t\t\tcompleted: false\n\t\t\t}, {\n\t\t\t\tdescription: 'Implement NORMAL PROJECT ARCHITECTURE' + '(.gitignore, src, build, each component should be presented in separated files using es6 module system)',\n\t\t\t\tcompleted: true\n\t\t\t}]\n\t\t}, {\n\t\t\tjist: \"simple markup\",\n\t\t\tdescription: \"Create some simple markup (of course use routing for the pages, we create SPA)\",\n\t\t\tcompleted: true,\n\t\t\tsubitems: [{\n\t\t\t\tdescription: 'Authorization',\n\t\t\t\tcompleted: false\n\t\t\t}, {\n\t\t\t\tdescription: 'Main page',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'About author',\n\t\t\t\tcompleted: true\n\t\t\t}]\n\t\t}, {\n\t\t\tjist: \"map\",\n\t\t\tdescription: \"Draw simple map with point of your geolocation\",\n\t\t\tcompleted: true,\n\t\t\tsubitems: [{\n\t\t\t\tdescription: 'Implement zoom in/out buttons on a map',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'Click on a map has to create a marker',\n\t\t\t\tcompleted: true\n\t\t\t}]\n\t\t}, {\n\t\t\tjist: \"save and show\",\n\t\t\tdescription: \"Implement save and show buttons\",\n\t\t\tcompleted: true,\n\t\t\tsubitems: [{\n\t\t\t\tdescription: 'save button saves all the created markers, show button – shows it',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'When clicking on the save button all markers should be sent to the server',\n\t\t\t\tcompleted: true\n\t\t\t}]\n\t\t}, {\n\t\t\tjist: \"back-end\",\n\t\t\tdescription: \"Create a back-end \",\n\t\t\tcompleted: true,\n\t\t\tsubitems: [{\n\t\t\t\tdescription: '(node.js + express + mongodb)',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'Create  a user api',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'Create an api to save location array',\n\t\t\t\tcompleted: true\n\t\t\t}, {\n\t\t\t\tdescription: 'Create a GET request to fetch all saving markers',\n\t\t\t\tcompleted: true\n\t\t\t}]\n\t\t}, {\n\t\t\tjist: \"create list\",\n\t\t\tdescription: \"Create list with type of objects to be chosen\" + \"(pharmacies, gas stations, schools,  restaurants)\" + \"so click on the list item has to draw markers on the map with the closest chosen objects\",\n\t\t\tcompleted: true\n\t\t}]\n\t};\n\tmodule.exports = TodosList;\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// app.bundle.js","'use strict';\r\n\r\nrequire('./components');\r\nrequire('./shared');\r\n\r\nrequire('../styles/app.scss');\r\n\r\n\r\nvar appModule = angular.module('App', ['App.components', 'App.shared', 'ui.router']);\r\n\r\nappModule.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\r\n\r\n    $urlRouterProvider.otherwise('/home');\r\n\r\n    $stateProvider\r\n        .state('home', {\r\n            templateUrl: 'client/app/components/home/home.html',\r\n            controller: 'HomeController',\r\n            url: '/home'\r\n        })\r\n        .state('about', {\r\n            templateUrl: 'client/app/components/about/about.html',\r\n            controller: 'AboutController',\r\n            url: '/about'\r\n        })\r\n        .state('author', {\r\n            templateUrl: 'client/app/components/author/author.html',\r\n            controller: 'AuthorController',\r\n            url: '/author'\r\n        });\r\n}]);\n\n\n// WEBPACK FOOTER //\n// ./client/app/app.js","'use strict';\r\n\r\nvar aboutController = require('./about/aboutController');\r\nvar homeController = require('./home/homeController');\r\nvar authorController = require('./author/authorController');\r\nvar toDosList = require('./about/todosList');\r\n\r\nangular.module('App.components', [])\r\n\t.value('TodosList', toDosList)\r\n    .controller('HomeController', homeController)\r\n    .controller('AboutController', aboutController)\r\n    .controller('AuthorController', authorController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./client/app/components/index.js","'use strict';\r\n\r\nAboutController.$inject = ['$scope', 'TodosList'];\r\n\r\nfunction AboutController($scope, TodosList) {\r\n\t$scope.listOfTodos = TodosList.list;\r\n}\r\nmodule.exports = AboutController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./client/app/components/about/aboutController.js","'use strict';\r\n\r\nHomeController.$inject = ['$scope', 'mapService'];\r\n\r\nfunction HomeController($scope, mapService) {\r\n    $scope.categories = [\r\n        {label: \"Schools\", type: \"school\"},\r\n        {label: \"Gas Stations\",type: \"gas-station\"},\r\n        {label: \"Restaurants\",type: \"restaurant\"},\r\n        {label: \"Pharmacies\",type: \"pharmacy\"}\r\n    ];\r\n    const DUKS_LOCATION = [46.48810, 30.74104];\r\n    const veryScaryText = 'CIA is on the move.';\r\n    $scope.coordinatesArray = [];\r\n    $scope.map;\r\n\r\n    $scope.initMap = function() {\r\n        DG.then(function () {\r\n            var myLocation = $scope.$root.myLocation ? $scope.$root.myLocation : DUKS_LOCATION;\r\n            $scope.map= undefined;\r\n            $scope.map = DG.map('map', {\r\n                center: myLocation,\r\n                zoom: 13\r\n            });\r\n            $scope.setMyLocation();\r\n\r\n            $scope.markersGroup = DG.featureGroup();\r\n\r\n            DG.marker(myLocation).addTo($scope.map).bindPopup('Place to appear on most photos.');\r\n\r\n            $scope.setCreateMarkerOnPin();\r\n\r\n        });\r\n    };\r\n\r\n    $scope.setCreateMarkerOnPin = function() {\r\n        $scope.map.on('click', function(ev) {\r\n            DG.marker(ev.latlng).addTo($scope.markersGroup).addTo($scope.map);\r\n            $scope.coordinatesArray.push(ev.latlng);\r\n        });\r\n    };\r\n\r\n    $scope.drawMarkersOnMap = function(data) {\r\n        if ($scope.markersGroup) {\r\n            $scope.markersGroup.clearLayers();\r\n            data.forEach(function(coordinates) {\r\n                DG.marker(coordinates).addTo($scope.markersGroup);\r\n            });\r\n            $scope.markersGroup.addTo($scope.map);\r\n            $scope.map.fitBounds($scope.markersGroup.getBounds());\r\n        }\r\n    }\r\n\r\n    $scope.showAllMarkers = function() {\r\n        mapService.getAllMarkers().then(function(response) {\r\n            $scope.drawMarkersOnMap(response.data);\r\n        });\r\n        $scope.markersHadBeenHidden = false;\r\n    };\r\n\r\n    $scope.saveMarkers = function() {\r\n        mapService.saveMarkers($scope.coordinatesArray);\r\n    };\r\n\r\n    $scope.setMyLocation = function() {\r\n        $scope.map.locate({setView: true, watch: true})\r\n            .on('locationfound', function(e) {\r\n                $scope.map.center = [e.latitude, e.longitude];\r\n                $scope.$root.myLocation = [e.latitude, e.longitude];\r\n                DG.marker([e.latitude, e.longitude])\r\n                    .addTo($scope.map)\r\n                    .bindPopup('You are here. ' + veryScaryText)\r\n                    .openPopup()\r\n                    .bindLabel(veryScaryText);\r\n            })\r\n            .on('locationerror', function(e) {\r\n                DG.popup()\r\n                  .setLatLng($scope.map.getCenter())\r\n                  .setContent('Доступ к определению местоположения отключён')\r\n                  .openOn($scope.map);\r\n        });\r\n    };\r\n\r\n    $scope.$watch('selectedCategory', function(newCategory,  oldCategory) {\r\n        if (newCategory != undefined) {\r\n            mapService.getMarkersByCategory(newCategory).then(function(resp) {\r\n                $scope.drawMarkersOnMap(resp.data);\r\n            });\r\n        }\r\n    });\r\n\r\n    $scope.hideMarkers = function(){\r\n        $scope.markersGroup.clearLayers();\r\n        $scope.markersHadBeenHidden = true;\r\n    };\r\n}\r\n\r\nmodule.exports = HomeController;\n\n\n// WEBPACK FOOTER //\n// ./client/app/components/home/homeController.js","'use strict';\r\n\r\nAuthorController.$inject = ['$scope'];\r\n\r\nfunction AuthorController($scope) {\r\n\r\n}\r\nmodule.exports = AuthorController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./client/app/components/author/authorController.js","\r\n'use strict';\r\n\r\nvar AppHeaderDirective = require('./directives/headerDirective');\r\nvar MapService = require('./services/mapService')\r\n\r\nangular.module('App.shared', [])\r\n    .directive('appHeader', AppHeaderDirective)\r\n    .service('mapService', MapService)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./client/app/shared/index.js","'use strict';\r\n\r\nfunction appHeaderDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'client/app/shared/templates/headerTemplate.html',\r\n        replace: true\r\n      };\r\n}\r\n\r\nmodule.exports = appHeaderDirective;\n\n\n// WEBPACK FOOTER //\n// ./client/app/shared/directives/headerDirective.js","'use strict';\r\n\r\nMapService.$inject = ['$http'];\r\nfunction MapService($http) {\r\n\tfunction saveMarkers(markers) {\r\n        var config = {\r\n            method: \"POST\",\r\n            url: \"map/saveMarkers\",\r\n            data: markers\r\n        }\r\n        return $http(config);\r\n    }\r\n    \r\n\tfunction getAllMarkers(markers) {\r\n        var config = {\r\n            method: \"GET\",\r\n            url: \"map/getMarkers\"\r\n        }\r\n        return $http(config);\r\n    }\r\n\r\n    function getMarkersByCategory(category) {\r\n        var config = {\r\n            method: \"GET\",\r\n            url: \"map/getByCategory\",\r\n            params: {\r\n                type: category\r\n            }\r\n        }\r\n        return $http(config);\r\n    }\r\n    return {\r\n        saveMarkers: saveMarkers,\r\n        getAllMarkers: getAllMarkers,\r\n        getMarkersByCategory: getMarkersByCategory\r\n    };\r\n}\r\n\r\nmodule.exports = MapService;\r\n\n\n\n// WEBPACK FOOTER //\n// ./client/app/shared/services/mapService.js","'use strict';\r\n\r\nvar TodosList = {\r\n\tlist: [{\r\n\t\t\tjist:\"git\",\r\n\t\t\tdescription:\"Create a git repository on github.com\",\r\n\t\t\tcompleted:true\r\n\t\t},{\r\n\t\t\tjist:\"version\",\r\n\t\t\tdescription:\"Use AngularJS 1st version\",\r\n\t\t\tcompleted:true\r\n\t\t},{\r\n\t\t\tjist:\"webpack\",\r\n\t\t\tdescription:\"Configure webpack.config.js\",\r\n\t\t\tcompleted:true,\r\n\t\t\tsubitems: [ {\r\n\t\t\t\t\tdescription:'Babel + es6',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Less to css compilation. USED scss instead.',\r\n\t\t\t\t\tcompleted: false\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Implement NORMAL PROJECT ARCHITECTURE'+\r\n\t\t\t\t\t \t'(.gitignore, src, build, each component should be presented in separated files using es6 module system)',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},{\r\n\t\t\tjist:\"simple markup\",\r\n\t\t\tdescription:\"Create some simple markup (of course use routing for the pages, we create SPA)\",\r\n\t\t\tcompleted:true,\r\n\t\t\tsubitems: [ {\r\n\t\t\t\t\tdescription:'Authorization',\r\n\t\t\t\t\tcompleted: false\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Main page',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'About author',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},{\r\n\t\t\tjist:\"map\",\r\n\t\t\tdescription:\"Draw simple map with point of your geolocation\",\r\n\t\t\tcompleted:true,\r\n\t\t\tsubitems: [ {\r\n\t\t\t\t\tdescription:'Implement zoom in/out buttons on a map',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Click on a map has to create a marker',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},{\r\n\t\t\tjist:\"save and show\",\r\n\t\t\tdescription:\"Implement save and show buttons\",\r\n\t\t\tcompleted:true,\r\n\t\t\tsubitems: [ {\r\n\t\t\t\t\tdescription:'save button saves all the created markers, show button – shows it',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'When clicking on the save button all markers should be sent to the server',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},{\r\n\t\t\tjist:\"back-end\", \r\n\t\t\tdescription:\"Create a back-end \",\r\n\t\t\tcompleted:true,\r\n\t\t\tsubitems: [ {\r\n\t\t\t\t\tdescription:'(node.js + express + mongodb)',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Create  a user api',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Create an api to save location array',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t},{\r\n\t\t\t\t\tdescription:'Create a GET request to fetch all saving markers',\r\n\t\t\t\t\tcompleted: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},{\r\n\t\t\tjist:\"create list\",\r\n\t\t\tdescription:\"Create list with type of objects to be chosen\" +\r\n\t\t\t\t\t\t\"(pharmacies, gas stations, schools,  restaurants)\" +\r\n\t\t\t\t\t\t\"so click on the list item has to draw markers on the map with the closest chosen objects\",\r\n\t\t\tcompleted:true\r\n\t\t}\r\n\t]\r\n};\r\nmodule.exports = TodosList;\r\n\n\n\n// WEBPACK FOOTER //\n// ./client/app/components/about/todosList.js"],"sourceRoot":""}